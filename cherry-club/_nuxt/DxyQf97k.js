import{v as ae,r as x,o as C,c as E,G as se,R as be,z as d,a as T,n as j,D as N,t as k,B as F,l as xe,S as Re,f as P,T as G,g as _e,H as g,U as we,V as Oe,W as H,X,Y,F as Ce,Z as Ee,b as J}from"./C2Vt7EdE.js";import{B as Ve,_ as je}from"./DDzu8CkT.js";import"./CpC5KY2w.js";const Pe={class:"input w-full relative"},ze=["id","type","placeholder","disabled","required"],ke=["for","textContent"],Ie=["textContent"],Be=ae({__name:"Input",props:{modelValue:{},type:{default:"text"},placeholder:{default:""},label:{default:""},error:{default:""},disabled:{type:Boolean,default:!1},id:{default:"input"},required:{type:Boolean,default:!1}},emits:["update:modelValue","blur","focus"],setup(t,{emit:a}){const n=t,e=a,s=x(n.modelValue),o=x(!1),v=()=>{e("update:modelValue",s.value)},u=()=>{o.value=!1,e("blur")};return(i,l)=>(C(),E("div",Pe,[se(T("input",{id:i.id,"onUpdate:modelValue":l[0]||(l[0]=$=>j(s)?s.value=$:null),type:i.type,placeholder:i.placeholder,disabled:i.disabled,required:i.required,class:N(["w-full bg-transparent border-b-2 text-champagne text-lg p-2 transition-colors duration-300 focus:outline-none disabled:text-grey disabled:border-grey disabled:pointer-events-none placeholder:text-grey",{"border-grey":!i.error&&!d(o),"border-gold-dark":d(o),"border-error-dark":i.error}]),onInput:v,onFocus:l[1]||(l[1]=$=>o.value=!0),onBlur:u},null,42,ze),[[be,d(s)]]),i.label?(C(),E("label",{key:0,for:i.id,class:N(["absolute left-0 -top-6 text-sm text-grey transition-all duration-300 pointer-events-none",{"text-gold-dark":d(o),"text-error-dark":i.error}]),textContent:k(i.label)},null,10,ke)):F("",!0),i.error?(C(),E("span",{key:1,class:"text-error-dark text-sm absolute left-0 top-full mt-2 mx-1 text-left",textContent:k(i.error)},null,8,Ie)):F("",!0)]))}}),Se=Object.assign(Be,{__name:"Input"});function K(t,a){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);a&&(e=e.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,e)}return n}function _(t){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?K(Object(n),!0).forEach(function(e){Le(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Le(t,a,n){return a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}function Q(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.keys(t).reduce((n,e)=>(a.includes(e)||(n[e]=d(t[e])),n),{})}function I(t){return typeof t=="function"}function Ae(t){return we(t)||Oe(t)}function le(t,a,n){let e=t;const s=a.split(".");for(let o=0;o<s.length;o++){if(!e[s[o]])return n;e=e[s[o]]}return e}function D(t,a,n){return g(()=>t.some(e=>le(a,e,{[n]:!1})[n]))}function ee(t,a,n){return g(()=>t.reduce((e,s)=>{const o=le(a,s,{[n]:!1})[n]||[];return e.concat(o)},[]))}function oe(t,a,n,e){return t.call(e,d(a),d(n),e)}function ie(t){return t.$valid!==void 0?!t.$valid:!t}function De(t,a,n,e,s,o,v){let{$lazy:u,$rewardEarly:i}=s,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],$=arguments.length>8?arguments[8]:void 0,m=arguments.length>9?arguments[9]:void 0,h=arguments.length>10?arguments[10]:void 0;const p=x(!!e.value),r=x(0);n.value=!1;const f=P([a,e].concat(l,h),()=>{if(u&&!e.value||i&&!m.value&&!n.value)return;let c;try{c=oe(t,a,$,v)}catch(y){c=Promise.reject(y)}r.value++,n.value=!!r.value,p.value=!1,Promise.resolve(c).then(y=>{r.value--,n.value=!!r.value,o.value=y,p.value=ie(y)}).catch(y=>{r.value--,n.value=!!r.value,o.value=y,p.value=!0})},{immediate:!0,deep:typeof a=="object"});return{$invalid:p,$unwatch:f}}function Te(t,a,n,e,s,o,v,u){let{$lazy:i,$rewardEarly:l}=e;const $=()=>({}),m=g(()=>{if(i&&!n.value||l&&!u.value)return!1;let h=!0;try{const p=oe(t,a,v,o);s.value=p,h=ie(p)}catch(p){s.value=p}return h});return{$unwatch:$,$invalid:m}}function Ne(t,a,n,e,s,o,v,u,i,l,$){const m=x(!1),h=t.$params||{},p=x(null);let r,f;t.$async?{$invalid:r,$unwatch:f}=De(t.$validator,a,m,n,e,p,s,t.$watchTargets,i,l,$):{$invalid:r,$unwatch:f}=Te(t.$validator,a,n,e,p,s,i,l);const c=t.$message;return{$message:I(c)?g(()=>c(Q({$pending:m,$invalid:r,$params:Q(h),$model:a,$response:p,$validator:o,$propertyPath:u,$property:v}))):c||"",$params:h,$pending:m,$invalid:r,$response:p,$unwatch:f}}function Fe(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const a=d(t),n=Object.keys(a),e={},s={},o={};let v=null;return n.forEach(u=>{const i=a[u];switch(!0){case I(i.$validator):e[u]=i;break;case I(i):e[u]={$validator:i};break;case u==="$validationGroups":v=i;break;case u.startsWith("$"):o[u]=i;break;default:s[u]=i}}),{rules:e,nestedValidators:s,config:o,validationGroups:v}}const qe="__root";function Ge(t,a,n,e,s,o,v,u,i){const l=Object.keys(t),$=e.get(s,t),m=x(!1),h=x(!1),p=x(0);if($){if(!$.$partial)return $;$.$unwatch(),m.value=$.$dirty.value}const r={$dirty:m,$path:s,$touch:()=>{m.value||(m.value=!0)},$reset:()=>{m.value&&(m.value=!1)},$commit:()=>{}};return l.length?(l.forEach(f=>{r[f]=Ne(t[f],a,r.$dirty,o,v,f,n,s,i,h,p)}),r.$externalResults=g(()=>u.value?[].concat(u.value).map((f,c)=>({$propertyPath:s,$property:n,$validator:"$externalResults",$uid:`${s}-externalResult-${c}`,$message:f,$params:{},$response:null,$pending:!1})):[]),r.$invalid=g(()=>{const f=l.some(c=>d(r[c].$invalid));return h.value=f,!!r.$externalResults.value.length||f}),r.$pending=g(()=>l.some(f=>d(r[f].$pending))),r.$error=g(()=>r.$dirty.value?r.$pending.value||r.$invalid.value:!1),r.$silentErrors=g(()=>l.filter(f=>d(r[f].$invalid)).map(f=>{const c=r[f];return G({$propertyPath:s,$property:n,$validator:f,$uid:`${s}-${f}`,$message:c.$message,$params:c.$params,$response:c.$response,$pending:c.$pending})}).concat(r.$externalResults.value)),r.$errors=g(()=>r.$dirty.value?r.$silentErrors.value:[]),r.$unwatch=()=>l.forEach(f=>{r[f].$unwatch()}),r.$commit=()=>{h.value=!0,p.value=Date.now()},e.set(s,t,r),r):($&&e.set(s,t,r),r)}function Me(t,a,n,e,s,o,v){const u=Object.keys(t);return u.length?u.reduce((i,l)=>(i[l]=q({validations:t[l],state:a,key:l,parentKey:n,resultsCache:e,globalConfig:s,instance:o,externalResults:v}),i),{}):{}}function Ue(t,a,n){const e=g(()=>[a,n].filter(r=>r).reduce((r,f)=>r.concat(Object.values(d(f))),[])),s=g({get(){return t.$dirty.value||(e.value.length?e.value.every(r=>r.$dirty):!1)},set(r){t.$dirty.value=r}}),o=g(()=>{const r=d(t.$silentErrors)||[],f=e.value.filter(c=>(d(c).$silentErrors||[]).length).reduce((c,y)=>c.concat(...y.$silentErrors),[]);return r.concat(f)}),v=g(()=>{const r=d(t.$errors)||[],f=e.value.filter(c=>(d(c).$errors||[]).length).reduce((c,y)=>c.concat(...y.$errors),[]);return r.concat(f)}),u=g(()=>e.value.some(r=>r.$invalid)||d(t.$invalid)||!1),i=g(()=>e.value.some(r=>d(r.$pending))||d(t.$pending)||!1),l=g(()=>e.value.some(r=>r.$dirty)||e.value.some(r=>r.$anyDirty)||s.value),$=g(()=>s.value?i.value||u.value:!1),m=()=>{t.$touch(),e.value.forEach(r=>{r.$touch()})},h=()=>{t.$commit(),e.value.forEach(r=>{r.$commit()})},p=()=>{t.$reset(),e.value.forEach(r=>{r.$reset()})};return e.value.length&&e.value.every(r=>r.$dirty)&&m(),{$dirty:s,$errors:v,$invalid:u,$anyDirty:l,$error:$,$pending:i,$touch:m,$reset:p,$silentErrors:o,$commit:h}}function q(t){let{validations:a,state:n,key:e,parentKey:s,childResults:o,resultsCache:v,globalConfig:u={},instance:i,externalResults:l}=t;const $=s?`${s}.${e}`:e,{rules:m,nestedValidators:h,config:p,validationGroups:r}=Fe(a),f=_(_({},u),p),c=e?g(()=>{const b=d(n);return b?d(b[e]):void 0}):n,y=_({},d(l)||{}),M=g(()=>{const b=d(l);return e?b?d(b[e]):void 0:b}),U=Ge(m,c,e,v,$,f,i,M,n),w=Me(h,c,$,v,f,i,M),W={};r&&Object.entries(r).forEach(b=>{let[O,R]=b;W[O]={$invalid:D(R,w,"$invalid"),$error:D(R,w,"$error"),$pending:D(R,w,"$pending"),$errors:ee(R,w,"$errors"),$silentErrors:ee(R,w,"$silentErrors")}});const{$dirty:B,$errors:de,$invalid:S,$anyDirty:fe,$error:$e,$pending:L,$touch:A,$reset:ve,$silentErrors:me,$commit:Z}=Ue(U,w,o),pe=e?g({get:()=>d(c),set:b=>{B.value=!0;const O=d(n),R=d(l);R&&(R[e]=y[e]),j(O[e])?O[e].value=b:O[e]=b}}):null;e&&f.$autoDirty&&P(c,()=>{B.value||A();const b=d(l);b&&(b[e]=y[e])},{flush:"sync"});async function ge(){return A(),f.$rewardEarly&&(Z(),await Y()),await Y(),new Promise(b=>{if(!L.value)return b(!S.value);const O=P(L,()=>{b(!S.value),O()})})}function he(b){return(o.value||{})[b]}function ye(){j(l)?l.value=y:Object.keys(y).length===0?Object.keys(l).forEach(b=>{delete l[b]}):Object.assign(l,y)}return G(_(_(_({},U),{},{$model:pe,$dirty:B,$error:$e,$errors:de,$invalid:S,$anyDirty:fe,$pending:L,$touch:A,$reset:ve,$path:$||qe,$silentErrors:me,$validate:ge,$commit:Z},o&&{$getResultsForChild:he,$clearExternalResults:ye,$validationGroups:W}),w))}class We{constructor(){this.storage=new Map}set(a,n,e){this.storage.set(a,{rules:n,result:e})}checkRulesValidity(a,n,e){const s=Object.keys(e),o=Object.keys(n);return o.length!==s.length||!o.every(u=>s.includes(u))?!1:o.every(u=>n[u].$params?Object.keys(n[u].$params).every(i=>d(e[u].$params[i])===d(n[u].$params[i])):!0)}get(a,n){const e=this.storage.get(a);if(!e)return;const{rules:s,result:o}=e,v=this.checkRulesValidity(a,n,s),u=o.$unwatch?o.$unwatch:()=>({});return v?o:{$dirty:o.$dirty,$partial:!0,$unwatch:u}}}const z={COLLECT_ALL:!0,COLLECT_NONE:!1},te=Symbol("vuelidate#injectChildResults"),ne=Symbol("vuelidate#removeChildResults");function Ze(t){let{$scope:a,instance:n}=t;const e={},s=x([]),o=g(()=>s.value.reduce(($,m)=>($[m]=d(e[m]),$),{}));function v($,m){let{$registerAs:h,$scope:p,$stopPropagation:r}=m;r||a===z.COLLECT_NONE||p===z.COLLECT_NONE||a!==z.COLLECT_ALL&&a!==p||(e[h]=$,s.value.push(h))}n.__vuelidateInjectInstances=[].concat(n.__vuelidateInjectInstances||[],v);function u($){s.value=s.value.filter(m=>m!==$),delete e[$]}n.__vuelidateRemoveInstances=[].concat(n.__vuelidateRemoveInstances||[],u);const i=H(te,[]);X(te,n.__vuelidateInjectInstances);const l=H(ne,[]);return X(ne,n.__vuelidateRemoveInstances),{childResults:o,sendValidationResultsToParent:i,removeValidationResultsFromParent:l}}function ue(t){return new Proxy(t,{get(a,n){return typeof a[n]=="object"?ue(a[n]):g(()=>a[n])}})}let re=0;function He(t,a){var n;let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};arguments.length===1&&(e=t,t=void 0,a=void 0);let{$registerAs:s,$scope:o=z.COLLECT_ALL,$stopPropagation:v,$externalResults:u,currentVueInstance:i}=e;const l=i||((n=xe())===null||n===void 0?void 0:n.proxy),$=l?l.$options:{};s||(re+=1,s=`_vuelidate_${re}`);const m=x({}),h=new We,{childResults:p,sendValidationResultsToParent:r,removeValidationResultsFromParent:f}=l?Ze({$scope:o,instance:l}):{childResults:x({})};if(!t&&$.validations){const c=$.validations;a=x({}),Re(()=>{a.value=l,P(()=>I(c)?c.call(a.value,new ue(a.value)):c,y=>{m.value=q({validations:y,state:a,childResults:p,resultsCache:h,globalConfig:e,instance:l,externalResults:u||l.vuelidateExternalResults})},{immediate:!0})}),e=$.validationsConfig||e}else{const c=j(t)||Ae(t)?t:G(t||{});P(c,y=>{m.value=q({validations:y,state:a,childResults:p,resultsCache:h,globalConfig:e,instance:l??{},externalResults:u})},{immediate:!0})}return l&&(r.forEach(c=>c(m,{$registerAs:s,$scope:o,$stopPropagation:v})),_e(()=>f.forEach(c=>c(s)))),g(()=>_(_({},d(m.value)),p.value))}const ce=t=>{if(t=d(t),Array.isArray(t))return!!t.length;if(t==null)return!1;if(t===!1)return!0;if(t instanceof Date)return!isNaN(t.getTime());if(typeof t=="object"){for(let a in t)return!0;return!1}return!!String(t).length};function V(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return e=>(e=d(e),!ce(e)||a.every(s=>(s.lastIndex=0,s.test(e))))}V(/^[a-zA-Z]*$/);V(/^[a-zA-Z0-9]*$/);V(/^\d*(\.\d+)?$/);const Xe=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;var Ye=V(Xe),Je={$validator:Ye,$message:"Value is not a valid email address",$params:{type:"email"}};function Ke(t){return typeof t=="string"&&(t=t.trim()),ce(t)}var Qe={$validator:Ke,$message:"Value is required",$params:{type:"required"}};const et=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;V(et);V(/(^[0-9]*$)|(^-[0-9]+$)/);V(/^[-]?\d*(\.\d+)?$/);const tt={class:"container flex flex-col items-center justify-center text-center"},nt=["textContent"],rt=["textContent"],at={key:2,class:"mt-20 text-lg",textContent:"Dziękujemy za zapis!"},st=ae({__name:"NewsletterBanner",props:{blok:{}},setup(t){const a={email:{required:Qe,email:Je}},n=x(""),e=x(!1),s=He(a,{email:n}),o=()=>{s.value.$touch(),s.value.$invalid||(e.value=!0,console.log("Zapisano e-mail: ",n.value),n.value="",s.value.$reset())};return(v,u)=>{const i=Se,l=je,$=Ce("editable");return se((C(),E("section",{class:N(["newsletter-banner py-16",`bg-${v.blok.background_color||"transparent"}`])},[T("div",tt,[v.blok.subheading?(C(),E("p",{key:0,class:"uppercase",textContent:k(v.blok.subheading)},null,8,nt)):F("",!0),T("h2",{class:"tracking-wide",textContent:k(v.blok.heading)},null,8,rt),d(e)?(C(),E("p",at)):(C(),E("form",{key:1,novalidate:"",class:"flex gap-4 w-1/2 mt-20",onSubmit:Ee(o,["prevent"])},[J(i,{modelValue:d(n),"onUpdate:modelValue":u[0]||(u[0]=m=>j(n)?n.value=m:null),id:"newsletter-email",placeholder:"Wpisz swój e-mail",error:d(s).email.$error?"Podaj poprawny adres e-mail":"",required:"",onBlur:d(s).email.$touch},null,8,["modelValue","error","onBlur"]),J(l,{variant:d(Ve).Secondary,type:"submit",label:v.blok.button_label||"Dołącz teraz"},null,8,["variant","label"])],32))])],2)),[[$,v.blok]])}}}),ut=Object.assign(st,{__name:"NewsletterBanner"});export{ut as default};
